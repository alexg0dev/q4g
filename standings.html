<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standings | Quest for Glory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#FF6B00',
                            dark: '#E05A00',
                            light: '#FF8A3D'
                        },
                        secondary: {
                            DEFAULT: '#121212',
                            light: '#1E1E1E'
                        },
                        accent: {
                            DEFAULT: '#FFD700',
                            dark: '#E6C200'
                        }
                    },
                    fontFamily: {
                        'montserrat': ['Montserrat', 'sans-serif'],
                        'poppins': ['Poppins', 'sans-serif']
                    }
                }
            }
        };
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            .text-shadow-lg {
                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
            }
            .fire-gradient {
                background: linear-gradient(135deg, #FF6B00 0%, #FF8A3D 50%, #FFD700 100%);
            }
            .fire-text {
                background: linear-gradient(135deg, #FF6B00 0%, #FFD700 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            .animate-float {
                animation: float 3s ease-in-out infinite;
            }
            @keyframes float {
                0% { transform: translateY(0px); }
                50% { transform: translateY(-10px); }
                100% { transform: translateY(0px); }
            }
            .sortable:hover {
                cursor: pointer;
                background-color: rgba(255, 107, 0, 0.1);
            }
            .sortable.active {
                color: #FF6B00;
            }
            .sortable.active::after {
                content: " ↓";
            }
            .sortable.active.desc::after {
                content: " ↑";
            }
        }
    </style>
</head>
<body class="font-poppins bg-white dark:bg-secondary text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white dark:bg-secondary shadow-md">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <a href="index.html" class="flex items-center space-x-2">
                        <img src="/logo.png" alt="Quest for Glory Logo" class="h-10 w-auto">
                        <span class="font-montserrat font-bold text-2xl">
                            <span class="text-primary">Quest</span> for <span class="text-primary">Glory</span>
                        </span>
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="font-medium hover:text-primary transition-colors">Home</a>
                    <a href="index.html#competitions" class="font-medium hover:text-primary transition-colors">Competitions</a>
                    <a href="standings.html" class="font-medium text-primary">Standings</a>
                    <a href="index.html#about" class="font-medium hover:text-primary transition-colors">About</a>
                    <a href="index.html#contact" class="font-medium hover:text-primary transition-colors">Contact</a>
                </nav>
                
                <div class="flex items-center space-x-4">
                    <!-- Theme Toggle -->
                    <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors">
                        <i class="fas fa-sun text-yellow-500 dark:hidden"></i>
                        <i class="fas fa-moon text-blue-300 hidden dark:block"></i>
                    </button>
                    
                    <!-- Login Button -->
                    <button id="login-btn" class="hidden md:flex items-center space-x-2 bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg transition-colors animate-pulse">
                        <i class="fab fa-discord"></i>
                        <span>Login with Discord</span>
                    </button>
                    
                    <!-- User Profile (Hidden until logged in) -->
                    <div id="user-profile" class="hidden">
                        <img id="user-avatar" src="/placeholder.svg" alt="Profile" class="h-10 w-10 rounded-full cursor-pointer">
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation (Hidden by default) -->
            <nav id="mobile-menu" class="hidden md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="index.html" class="font-medium hover:text-primary transition-colors py-2">Home</a>
                    <a href="index.html#competitions" class="font-medium hover:text-primary transition-colors py-2">Competitions</a>
                    <a href="standings.html" class="font-medium text-primary py-2">Standings</a>
                    <a href="index.html#about" class="font-medium hover:text-primary transition-colors py-2">About</a>
                    <a href="index.html#contact" class="font-medium hover:text-primary transition-colors py-2">Contact</a>
                    <button id="mobile-login-btn" class="flex items-center space-x-2 bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg transition-colors">
                        <i class="fab fa-discord"></i>
                        <span>Login with Discord</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Standings Header -->
        <section class="py-12 bg-gray-50 dark:bg-secondary-light">
            <div class="container mx-auto px-4">
                <div class="text-center mb-8">
                    <h1 class="font-montserrat font-bold text-4xl md:text-5xl mb-4 animate__animated animate__fadeInDown">
                        League <span class="fire-text">Standings</span>
                    </h1>
                    <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto animate__animated animate__fadeInUp">
                        Track the performance of teams across all divisions in our current season. Updated after every match.
                    </p>
                </div>

                <!-- Season Selector -->
                <div class="flex justify-center mb-8 animate__animated animate__fadeInUp animate__delay-1s">
                    <div class="relative">
                        <select id="season-selector" class="appearance-none bg-white dark:bg-secondary border border-gray-300 dark:border-gray-700 rounded-lg py-2 px-4 pr-8 focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="fall2024">Fall 2024</option>
                            <option value="summer2024">Summer 2024</option>
                            <option value="spring2024">Spring 2024</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Division Tabs -->
                <div class="mb-8 flex justify-center animate__animated animate__fadeInUp animate__delay-2s">
                    <div class="inline-flex rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
                        <button class="standings-tab active px-6 py-3 font-medium text-sm focus:outline-none" data-division="div1">
                            Division 1
                        </button>
                        <button class="standings-tab px-6 py-3 font-medium text-sm focus:outline-none" data-division="div2">
                            Division 2
                        </button>
                        <button class="standings-tab px-6 py-3 font-medium text-sm focus:outline-none" data-division="div3">
                            Division 3
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Standings Table Section -->
        <section class="py-8">
            <div class="container mx-auto px-4">
                <!-- Division 1 Standings (Default visible) -->
                <div id="div1-standings" class="standings-content animate__animated animate__fadeIn">
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6 mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="font-montserrat font-bold text-2xl">Division 1 Standings</h2>
                            <div class="flex space-x-4">
                                <button id="export-div1" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-download"></i>
                                    <span class="hidden sm:inline">Export</span>
                                </button>
                                <button id="print-div1" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-print"></i>
                                    <span class="hidden sm:inline">Print</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-secondary-light text-gray-700 dark:text-gray-300">
                                        <th class="py-4 px-6 text-left sortable" data-sort="position">Pos</th>
                                        <th class="py-4 px-6 text-left sortable" data-sort="team">Team</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="played">P</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="won">W</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="drawn">D</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="lost">L</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gf">GF</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="ga">GA</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gd">GD</th>
                                        <th class="py-4 px-6 text-center sortable active" data-sort="points">Pts</th>
                                        <th class="py-4 px-6 text-center">Form</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">1</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white mr-3">FC</div>
                                                <span>Firestorm FC</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">8</td>
                                        <td class="py-4 px-6 text-center">1</td>
                                        <td class="py-4 px-6 text-center">1</td>
                                        <td class="py-4 px-6 text-center">24</td>
                                        <td class="py-4 px-6 text-center">8</td>
                                        <td class="py-4 px-6 text-center">+16</td>
                                        <td class="py-4 px-6 text-center font-bold">25</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">2</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white mr-3">GG</div>
                                                <span>Glory Gamers</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">7</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">1</td>
                                        <td class="py-4 px-6 text-center">22</td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">+12</td>
                                        <td class="py-4 px-6 text-center font-bold">23</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">3</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-purple-600 flex items-center justify-center text-white mr-3">PK</div>
                                                <span>Phoenix Kings</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">6</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">18</td>
                                        <td class="py-4 px-6 text-center">9</td>
                                        <td class="py-4 px-6 text-center">+9</td>
                                        <td class="py-4 px-6 text-center font-bold">20</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">4</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-red-600 flex items-center justify-center text-white mr-3">RD</div>
                                                <span>Red Dragons</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">5</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">16</td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">+6</td>
                                        <td class="py-4 px-6 text-center font-bold">18</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">5</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-green-600 flex items-center justify-center text-white mr-3">ET</div>
                                                <span>Emerald Tigers</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">5</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">14</td>
                                        <td class="py-4 px-6 text-center">12</td>
                                        <td class="py-4 px-6 text-center">+2</td>
                                        <td class="py-4 px-6 text-center font-bold">17</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">6</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-yellow-600 flex items-center justify-center text-white mr-3">GE</div>
                                                <span>Golden Eagles</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">4</td>
                                        <td class="py-4 px-6 text-center">4</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">12</td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">+2</td>
                                        <td class="py-4 px-6 text-center font-bold">16</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">7</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-white mr-3">SL</div>
                                                <span>Shadow Legends</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">4</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">13</td>
                                        <td class="py-4 px-6 text-center">12</td>
                                        <td class="py-4 px-6 text-center">+1</td>
                                        <td class="py-4 px-6 text-center font-bold">15</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">8</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-pink-600 flex items-center justify-center text-white mr-3">TP</div>
                                                <span>Thunder Panthers</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">3</td>
                                        <td class="py-4 px-6 text-center">4</td>
                                        <td class="py-4 px-6 text-center">11</td>
                                        <td class="py-4 px-6 text-center">13</td>
                                        <td class="py-4 px-6 text-center">-2</td>
                                        <td class="py-4 px-6 text-center font-bold">12</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 text-sm text-gray-500 dark:text-gray-400">
                            <p>Last updated: March 9, 2024 | Key: P = Played, W = Won, D = Drawn, L = Lost, GF = Goals For, GA = Goals Against, GD = Goal Difference, Pts = Points</p>
                        </div>
                    </div>
                    
                    <!-- Recent Results -->
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6">
                        <h3 class="font-montserrat font-bold text-xl mb-4">Recent Results - Division 1</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white mr-2">FC</div>
                                        <span class="font-medium">Firestorm FC</span>
                                    </div>
                                    <div class="font-bold text-lg">3</div>
                                </div>
                                <div class="flex justify-between items-center mt-2">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-purple-600 flex items-center justify-center text-white mr-2">PK</div>
                                        <span class="font-medium">Phoenix Kings</span>
                                    </div>
                                    <div class="font-bold text-lg">1</div>
                                </div>
                                <div class="mt-2 text-sm text-gray-500 dark:text-gray-400">March 7, 2024</div>
                            </div>
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white mr-2">GG</div>
                                        <span class="font-medium">Glory Gamers</span>
                                    </div>
                                    <div class="font-bold text-lg">2</div>
                                </div>
                                <div class="flex justify-between items-center mt-2">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-red-600 flex items-center justify-center text-white mr-2">RD</div>
                                        <span class="font-medium">Red Dragons</span>
                                    </div>
                                    <div class="font-bold text-lg">2</div>
                                </div>
                                <div class="mt-2 text-sm text-gray-500 dark:text-gray-400">March 6, 2024</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Division 2 Standings (Hidden by default) -->
                <div id="div2-standings" class="standings-content hidden">
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6 mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="font-montserrat font-bold text-2xl">Division 2 Standings</h2>
                            <div class="flex space-x-4">
                                <button id="export-div2" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-download"></i>
                                    <span class="hidden sm:inline">Export</span>
                                </button>
                                <button id="print-div2" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-print"></i>
                                    <span class="hidden sm:inline">Print</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-secondary-light text-gray-700 dark:text-gray-300">
                                        <th class="py-4 px-6 text-left sortable" data-sort="position">Pos</th>
                                        <th class="py-4 px-6 text-left sortable" data-sort="team">Team</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="played">P</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="won">W</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="drawn">D</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="lost">L</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gf">GF</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="ga">GA</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gd">GD</th>
                                        <th class="py-4 px-6 text-center sortable active" data-sort="points">Pts</th>
                                        <th class="py-4 px-6 text-center">Form</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">1</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-teal-600 flex items-center justify-center text-white mr-3">OW</div>
                                                <span>Ocean Warriors</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">7</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">1</td>
                                        <td class="py-4 px-6 text-center">20</td>
                                        <td class="py-4 px-6 text-center">9</td>
                                        <td class="py-4 px-6 text-center">+11</td>
                                        <td class="py-4 px-6 text-center font-bold">23</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs">D</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <!-- More Division 2 teams would go here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 text-sm text-gray-500 dark:text-gray-400">
                            <p>Last updated: March 9, 2024 | Key: P = Played, W = Won, D = Drawn, L = Lost, GF = Goals For, GA = Goals Against, GD = Goal Difference, Pts = Points</p>
                        </div>
                    </div>
                    
                    <!-- Recent Results -->
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6">
                        <h3 class="font-montserrat font-bold text-xl mb-4">Recent Results - Division 2</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-teal-600 flex items-center justify-center text-white mr-2">OW</div>
                                        <span class="font-medium">Ocean Warriors</span>
                                    </div>
                                    <div class="font-bold text-lg">2</div>
                                </div>
                                <div class="flex justify-between items-center mt-2">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-orange-600 flex items-center justify-center text-white mr-2">BL</div>
                                        <span class="font-medium">Blazing Lions</span>
                                    </div>
                                    <div class="font-bold text-lg">0</div>
                                </div>
                                <div class="mt-2 text-sm text-gray-500 dark:text-gray-400">March 8, 2024</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Division 3 Standings (Hidden by default) -->
                <div id="div3-standings" class="standings-content hidden">
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6 mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="font-montserrat font-bold text-2xl">Division 3 Standings</h2>
                            <div class="flex space-x-4">
                                <button id="export-div3" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-download"></i>
                                    <span class="hidden sm:inline">Export</span>
                                </button>
                                <button id="print-div3" class="flex items-center space-x-2 text-primary hover:text-primary-dark">
                                    <i class="fas fa-print"></i>
                                    <span class="hidden sm:inline">Print</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="bg-gray-100 dark:bg-secondary-light text-gray-700 dark:text-gray-300">
                                        <th class="py-4 px-6 text-left sortable" data-sort="position">Pos</th>
                                        <th class="py-4 px-6 text-left sortable" data-sort="team">Team</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="played">P</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="won">W</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="drawn">D</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="lost">L</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gf">GF</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="ga">GA</th>
                                        <th class="py-4 px-6 text-center sortable" data-sort="gd">GD</th>
                                        <th class="py-4 px-6 text-center sortable active" data-sort="points">Pts</th>
                                        <th class="py-4 px-6 text-center">Form</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                    <tr>
                                        <td class="py-4 px-6 font-semibold">1</td>
                                        <td class="py-4 px-6">
                                            <div class="flex items-center">
                                                <div class="h-8 w-8 rounded-full bg-cyan-600 flex items-center justify-center text-white mr-3">CS</div>
                                                <span>Cosmic Stars</span>
                                            </div>
                                        </td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">8</td>
                                        <td class="py-4 px-6 text-center">0</td>
                                        <td class="py-4 px-6 text-center">2</td>
                                        <td class="py-4 px-6 text-center">22</td>
                                        <td class="py-4 px-6 text-center">10</td>
                                        <td class="py-4 px-6 text-center">+12</td>
                                        <td class="py-4 px-6 text-center font-bold">24</td>
                                        <td class="py-4 px-6">
                                            <div class="flex justify-center space-x-1">
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs">L</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                                <span class="h-6 w-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs">W</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <!-- More Division 3 teams would go here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 text-sm text-gray-500 dark:text-gray-400">
                            <p>Last updated: March 9, 2024 | Key: P = Played, W = Won, D = Drawn, L = Lost, GF = Goals For, GA = Goals Against, GD = Goal Difference, Pts = Points</p>
                        </div>
                    </div>
                    
                    <!-- Recent Results -->
                    <div class="bg-white dark:bg-secondary rounded-xl shadow-lg p-6">
                        <h3 class="font-montserrat font-bold text-xl mb-4">Recent Results - Division 3</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-cyan-600 flex items-center justify-center text-white mr-2">CS</div>
                                        <span class="font-medium">Cosmic Stars</span>
                                    </div>
                                    <div class="font-bold text-lg">3</div>
                                </div>
                                <div class="flex justify-between items-center mt-2">
                                    <div class="flex items-center">
                                        <div class="h-8 w-8 rounded-full bg-lime-600 flex items-center justify-center text-white mr-2">VF</div>
                                        <span class="font-medium">Velocity Falcons</span>
                                    </div>
                                    <div class="font-bold text-lg">1</div>
                                </div>
                                <div class="mt-2 text-sm text-gray-500 dark:text-gray-400">March 8, 2024</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-secondary text-white pt-16 pb-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
                <div class="animate__animated animate__fadeInUp">
                    <div class="flex items-center space-x-2 mb-6">
                        <img src="/logo.png" alt="Quest for Glory Logo" class="h-10 w-auto">
                        <span class="font-montserrat font-bold text-2xl">
                            <span class="text-primary">Quest</span> for <span class="text-primary">Glory</span>
                        </span>
                    </div>
                    <p class="text-gray-400 mb-6">
                        Revolutionizing Pro Clubs to Make It the Best in North America.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="h-10 w-10 rounded-full bg-gray-800 hover:bg-primary flex items-center justify-center transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="h-10 w-10 rounded-full bg-gray-800 hover:bg-primary flex items-center justify-center transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="h-10 w-10 rounded-full bg-gray-800 hover:bg-primary flex items-center justify-center transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="h-10 w-10 rounded-full bg-gray-800 hover:bg-primary flex items-center justify-center transition-colors">
                            <i class="fab fa-discord"></i>
                        </a>
                    </div>
                </div>
                
                <div class="animate__animated animate__fadeInUp animate__delay-1s">
                    <h3 class="font-montserrat font-bold text-lg mb-6">Quick Links</h3>
                    <ul class="space-y-3">
                        <li><a href="index.html" class="text-gray-400 hover:text-primary transition-colors">Home</a></li>
                        <li><a href="index.html#competitions" class="text-gray-400 hover:text-primary transition-colors">Competitions</a></li>
                        <li><a href="standings.html" class="text-primary">Standings</a></li>
                        <li><a href="index.html#about" class="text-gray-400 hover:text-primary transition-colors">About</a></li>
                        <li><a href="index.html#contact" class="text-gray-400 hover:text-primary transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <div class="animate__animated animate__fadeInUp animate__delay-2s">
                    <h3 class="font-montserrat font-bold text-lg mb-6">Legal</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">Terms & Conditions</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">Cookie Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">Rules & Guidelines</a></li>
                    </ul>
                </div>
                
                <div class="animate__animated animate__fadeInUp animate__delay-3s">
                    <h3 class="font-montserrat font-bold text-lg mb-6">Contact Us</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fas fa-envelope text-primary mt-1 mr-3"></i>
                            <span class="text-gray-400">info@questforglory.com</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fab fa-discord text-primary mt-1 mr-3"></i>
                            <span class="text-gray-400">Join our Discord for support</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-globe text-primary mt-1 mr-3"></i>
                            <span class="text-gray-400">North America</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-500 text-sm mb-4 md:mb-0">
                        © 2024 Quest for Glory. All Rights Reserved. Not affiliated with EA Sports or its licensors.
                    </p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">Terms</a>
                        <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">Privacy</a>
                        <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">Cookies</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Login Modal (Hidden by default) -->
    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white dark:bg-secondary rounded-xl shadow-xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-montserrat font-bold text-2xl">Login to Quest for Glory</h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="text-center py-8">
                <div class="h-20 w-20 mx-auto mb-6 rounded-full bg-primary flex items-center justify-center">
                    <i class="fab fa-discord text-white text-3xl"></i>
                </div>
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    Login with your Discord account to access your profile, team management, and more.
                </p>
                <button id="discord-login-btn" class="w-full bg-[#5865F2] hover:bg-[#4752C4] text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center">
                    <i class="fab fa-discord mr-2"></i>
                    Continue with Discord
                </button>
            </div>
        </div>
    </div>

    <!-- User Menu (Hidden by default) -->
    <div id="user-menu" class="fixed right-4 top-20 bg-white dark:bg-secondary rounded-xl shadow-xl p-4 w-64 hidden z-40">
        <div class="flex items-center space-x-3 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700">
            <img id="user-menu-avatar" src="/placeholder.svg" alt="Profile" class="h-12 w-12 rounded-full">
            <div>
                <p id="user-menu-name" class="font-medium"></p>
                <p id="user-menu-tag" class="text-sm text-gray-500 dark:text-gray-400"></p>
            </div>
        </div>
        <ul class="space-y-2">
            <li>
                <a href="#" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors">
                    <i class="fas fa-user text-primary"></i>
                    <span>My Profile</span>
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors">
                    <i class="fas fa-users text-primary"></i>
                    <span>My Team</span>
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors">
                    <i class="fas fa-cog text-primary"></i>
                    <span>Settings</span>
                </a>
            </li>
            <li class="pt-2 border-t border-gray-200 dark:border-gray-700">
                <button id="logout-btn" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-light transition-colors w-full text-left">
                    <i class="fas fa-sign-out-alt text-red-500"></i>
                    <span>Logout</span>
                </button>
            </li>
        </ul>
    </div>

    <!-- JavaScript -->
    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or use system preference
        if (localStorage.getItem('theme') === 'dark' || 
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
        } else {
            html.classList.remove('dark');
        }
        
        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
        });
        
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // Login Modal
        const loginBtn = document.getElementById('login-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const loginModal = document.getElementById('login-modal');
        const closeModal = document.getElementById('close-modal');
        const discordLoginBtn = document.getElementById('discord-login-btn');
        
        function openLoginModal() {
            loginModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        function closeLoginModal() {
            loginModal.classList.add('hidden');
            document.body.style.overflow = '';
        }
        
        if (loginBtn) loginBtn.addEventListener('click', openLoginModal);
        if (mobileLoginBtn) mobileLoginBtn.addEventListener('click', openLoginModal);
        if (closeModal) closeModal.addEventListener('click', closeLoginModal);
        
        // Close modal when clicking outside
        if (loginModal) {
            loginModal.addEventListener('click', (e) => {
                if (e.target === loginModal) {
                    closeLoginModal();
                }
            });
        }
        
        // Discord OAuth Login
        if (discordLoginBtn) {
            discordLoginBtn.addEventListener('click', () => {
                // Replace 'YOUR_DISCORD_OAUTH_URL' with the actual Discord OAuth URL
                window.location.href = 'YOUR_DISCORD_OAUTH_URL';
            });
        }
        
        function handleLogin(userData) {
            // Store user data in localStorage
            localStorage.setItem('user', JSON.stringify(userData));
            
            // Update UI
            updateUserUI(userData);
            
            // Close login modal
            closeLoginModal();
        }
        
        function updateUserUI(user) {
            // Hide login buttons
            if (loginBtn) loginBtn.classList.add('hidden');
            if (mobileLoginBtn) mobileLoginBtn.classList.add('hidden');
            
            // Show user profile
            const userProfile = document.getElementById('user-profile');
            const userAvatar = document.getElementById('user-avatar');
            const userMenuAvatar = document.getElementById('user-menu-avatar');
            const userMenuName = document.getElementById('user-menu-name');
            const userMenuTag = document.getElementById('user-menu-tag');
            
            if (userProfile) {
                userProfile.classList.remove('hidden');
                userAvatar.src = user.avatar;
                userMenuAvatar.src = user.avatar;
                userMenuName.textContent = user.username;
                userMenuTag.textContent = `#${user.discriminator}`;
                
                // Setup user menu toggle
                userProfile.addEventListener('click', toggleUserMenu);
            }
        }
        
        function toggleUserMenu() {
            const userMenu = document.getElementById('user-menu');
            if (userMenu) {
                userMenu.classList.toggle('hidden');
            }
        }
        
        // Close user menu when clicking outside
        document.addEventListener('click', (e) => {
            const userProfile = document.getElementById('user-profile');
            const userMenu = document.getElementById('user-menu');
            
            if (userProfile && userMenu && !userProfile.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
        });
        
        // Logout
        const logoutBtn = document.getElementById('logout-btn');
        
        if (logoutBtn) {
            logoutBtn.addEventListener('click', () => {
                // Clear user data
                localStorage.removeItem('user');
                
                // Update UI
                const userProfile = document.getElementById('user-profile');
                const userMenu = document.getElementById('user-menu');
                
                if (userProfile) userProfile.classList.add('hidden');
                if (userMenu) userMenu.classList.add('hidden');
                if (loginBtn) loginBtn.classList.remove('hidden');
                if (mobileLoginBtn) mobileLoginBtn.classList.remove('hidden');
            });
        }
        
        // Check if user is already logged in
        const savedUser = localStorage.getItem('user');
        if (savedUser) {
            const userData = JSON.parse(savedUser);
            updateUserUI(userData);
        }
        
        // Standings Tabs
        const standingsTabs = document.querySelectorAll('.standings-tab');
        const standingsContents = document.querySelectorAll('.standings-content');
        
        standingsTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                standingsTabs.forEach(t => {
                    t.classList.remove('active', 'bg-primary', 'text-white');
                });
                
                // Add active class to clicked tab
                tab.classList.add('active', 'bg-primary', 'text-white');
                
                // Hide all standings content
                standingsContents.forEach(content => {
                    content.classList.add('hidden');
                });
                
                // Show the selected division standings
                const divisionId = tab.dataset.division;
                const selectedContent = document.getElementById(`${divisionId}-standings`);
                if (selectedContent) {
                    selectedContent.classList.remove('hidden');
                    selectedContent.classList.add('animate__animated', 'animate__fadeIn');
                }
            });
        });
        
        // Initialize the first tab as active
        if (standingsTabs.length > 0) {
            standingsTabs[0].classList.add('bg-primary', 'text-white');
        }
        
        // Sortable tables
        const sortableCells = document.querySelectorAll('.sortable');
        
        sortableCells.forEach(cell => {
            cell.addEventListener('click', () => {
                const table = cell.closest('table');
                const tbody = table.querySelector('tbody');
                const rows = Array.from(tbody.querySelectorAll('tr'));
                const sortBy = cell.dataset.sort;
                const isAsc = !cell.classList.contains('active') || cell.classList.contains('desc');
                
                // Remove active class from all sortable cells in this table
                table.querySelectorAll('.sortable').forEach(c => {
                    if (c !== cell) {
                        c.classList.remove('active', 'desc');
                    }
                });
                
                // Toggle active and desc classes
                if (cell.classList.contains('active')) {
                    cell.classList.toggle('desc');
                } else {
                    cell.classList.add('active');
                }
                
                // Sort the rows
                rows.sort((a, b) => {
                    let aValue, bValue;
                    
                    if (sortBy === 'team') {
                        aValue = a.querySelector('td:nth-child(2)').textContent.trim();
                        bValue = b.querySelector('td:nth-child(2)').textContent.trim();
                        return isAsc ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);
                    } else {
                        // For numeric columns
                        const aCell = sortBy === 'position' ? 
                            a.querySelector('td:nth-child(1)') : 
                            a.querySelector(`td:nth-child(${getColumnIndex(sortBy)})`);
                        
                        const bCell = sortBy === 'position' ? 
                            b.querySelector('td:nth-child(1)') : 
                            b.querySelector(`td:nth-child(${getColumnIndex(sortBy)})`);
                        
                        aValue = parseInt(aCell.textContent.trim().replace(/\+/g, ''));
                        bValue = parseInt(bCell.textContent.trim().replace(/\+/g, ''));
                        
                        return isAsc ? aValue - bValue : bValue - aValue;
                    }
                });
                
                // Reorder the rows
                rows.forEach(row => {
                    tbody.appendChild(row);
                });
                
                // Update positions if sorting by something other than position
                if (sortBy !== 'position') {
                    rows.forEach((row, index) => {
                        row.querySelector('td:first-child').textContent = index + 1;
                    });
                }
            });
        });
        
        function getColumnIndex(sortBy) {
            const columnMap = {
                'played': 3,
                'won': 4,
                'drawn': 5,
                'lost': 6,
                'gf': 7,
                'ga': 8,
                'gd': 9,
                'points': 10
            };
            return columnMap[sortBy] || 1;
        }
        
        // Export functionality
        const exportButtons = document.querySelectorAll('[id^="export-"]');
        
        exportButtons.forEach(button => {
            button.addEventListener('click', () => {
                const divisionId = button.id.split('-')[1];
                const table = document.querySelector(`#${divisionId}-standings table`);
                
                if (table) {
                    // Create CSV content
                    let csv = [];
                    const rows = table.querySelectorAll('tr');
                    
                    rows.forEach(row => {
                        const cols = row.querySelectorAll('th, td');
                        const rowData = [];
                        
                        cols.forEach(col => {
                            // Get text content, removing any extra spaces
                            let text = col.textContent.trim().replace(/\s+/g, ' ');
                            
                            // For team cells, just get the team name
                            if (col.querySelector('.flex.items-center span')) {
                                text = col.querySelector('.flex.items-center span').textContent.trim();
                            }
                            
                            // For form cells, convert to W/D/L format
                            if (col.querySelector('.flex.justify-center')) {
                                const forms = col.querySelectorAll('.rounded-full');
                                text = Array.from(forms).map(form => {
                                    return form.textContent.trim();
                                }).join('');
                            }
                            
                            // Escape quotes and wrap in quotes
                            rowData.push(`"${text.replace(/"/g, '""')}"`);
                        });
                        
                        csv.push(rowData.join(','));
                    });
                    
                    // Download the CSV file
                    const csvContent = csv.join('\n');
                    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.setAttribute('href', url);
                    link.setAttribute('download', `${divisionId}-standings.csv`);
                    link.style.visibility = 'hidden';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }
            });
        });
        
        // Print functionality
        const printButtons = document.querySelectorAll('[id^="print-"]');
        
        printButtons.forEach(button => {
            button.addEventListener('click', () => {
                const divisionId = button.id.split('-')[1];
                const standingsDiv = document.querySelector(`#${divisionId}-standings`);
                
                if (standingsDiv) {
                    const printWindow = window.open('', '_blank');
                    const tableHTML = standingsDiv.querySelector('table').outerHTML;
                    
                    printWindow.document.write(`
                        <html>
                            <head>
                                <title>Quest for Glory - ${divisionId.toUpperCase()} Standings</title>
                                <style>
                                    body { font-family: Arial, sans-serif; }
                                    table { width: 100%; border-collapse: collapse; }
                                    th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
                                    th { background-color: #f2f2f2; }
                                </style>
                            </head>
                            <body>
                                <h1>Quest for Glory - ${divisionId.toUpperCase()} Standings</h1>
                                ${tableHTML}
                                <p>Printed on ${new Date().toLocaleDateString()}</p>
                            </body>
                        </html>
                    `);
                    
                    printWindow.document.close();
                    printWindow.focus();
                    printWindow.print();
                    printWindow.close();
                }
            });
        });
    </script>
</body>
</html>

